{
  "index_patterns": ["assembly-*"],
  "mappings": {
    "properties": {
      "taxon_id": {
        "type": "keyword",
        "ignore_above": 9,
        "meta": { "description": "Taxonomy-specific taxon ID" }
      },
      "parent": {
        "type": "keyword",
        "ignore_above": 9,
        "meta": { "description": "Taxon ID of parent taxon" }
      },
      "branch_length": {
        "type": "float",
        "meta": { "description": "Branch length to parent node" }
      },
      "support_value": {
        "type": "float",
        "meta": { "description": "Support value for node" }
      },
      "scientific_name": {
        "type": "keyword",
        "ignore_above": 64,
        "meta": { "description": "Scientific name" }
      },
      "unique_name": {
        "type": "keyword",
        "ignore_above": 64,
        "meta": { "description": "Unique version of scientific name" }
      },
      "rank": {
        "type": "keyword",
        "ignore_above": 64,
        "meta": { "description": "Taxonomic rank" }
      },
      "names": {
        "type": "nested",
        "properties": {
          "name": { "type": "text", "meta": { "description": "Taxon name" } },
          "unique": {
            "type": "text",
            "meta": { "description": "Unique version of taxon name" }
          },
          "class": {
            "type": "text",
            "meta": {
              "description": "Name class (e.g. common name, synonym, etc.)"
            }
          }
        }
      },
      "lineage": {
        "type": "nested",
        "properties": {
          "taxon_id": {
            "type": "text",
            "meta": { "description": "Taxon ID of ancestral taxon" }
          },
          "rank": {
            "type": "text",
            "meta": { "description": "Ancestral rank" }
          },
          "scientific_name": {
            "type": "text",
            "meta": { "description": "Scientific name" }
          },
          "node_depth": {
            "type": "float",
            "meta": {
              "description": "Cumulative branch length to ancestral taxon"
            }
          },
          "support_value": {
            "type": "float",
            "meta": { "description": "Support value for node" }
          }
        }
      },
      "attributes": {
        "type": "nested",
        "properties": {
          "key": {
            "type": "keyword",
            "ignore_above": 64,
            "meta": { "description": "Attribute key" }
          },
          "keyword_value": {
            "type": "keyword",
            "ignore_above": 64,
            "meta": {
              "description": "Value of type keyword (including ontology terms)"
            }
          },
          "text_value": {
            "type": "text",
            "meta": { "description": "Value of type text" }
          },
          "integer_value": {
            "type": "integer",
            "meta": { "description": "Value of type integer" }
          },
          "float_value": {
            "type": "float",
            "meta": { "description": "Value of type float" }
          },
          "ontology_id": {
            "type": "keyword",
            "ignore_above": 64,
            "meta": {
              "description": "Ontology ID (with matching term in keyword_value)"
            }
          },
          "ontology": {
            "type": "nested",
            "properties": {
              "ontology_term": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": { "description": "Ontology term" }
              },
              "ontology_id": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": { "description": "Ontology ID" }
              }
            }
          },
          "source": {
            "type": "keyword",
            "ignore_above": 64,
            "meta": { "description": "Source of attribute value" }
          },
          "count": {
            "type": "integer",
            "meta": { "description": "Count of individual values" }
          },
          "min": {
            "type": "float",
            "meta": { "description": "Minimum value (numeric types only)" }
          },
          "max": {
            "type": "float",
            "meta": { "description": "Maximum value (numeric types only)" }
          },
          "mean": {
            "type": "float",
            "meta": { "description": "Mean value (numeric types only)" }
          },
          "median": {
            "type": "float",
            "meta": { "description": "Median value (numeric types only)" }
          },
          "mode": {
            "type": "float",
            "meta": { "description": "Modal value (keyword and numeric types)" }
          },
          "stdev": {
            "type": "float",
            "meta": { "description": "Standard deviation (numeric types only)" }
          },
          "aggregation_method": {
            "type": "keyword",
            "ignore_above": 64,
            "meta": { "description": "Method used to generate summary value" }
          },
          "values": {
            "type": "nested",
            "properties": {
              "keyword_value": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": {
                  "description": "Value of type keyword (including ontology terms)"
                }
              },
              "text_value": {
                "type": "text",
                "meta": { "description": "Value of type text" }
              },
              "integer_value": {
                "type": "integer",
                "meta": { "description": "Value of type integer" }
              },
              "float_value": {
                "type": "float",
                "meta": { "description": "Value of type float" }
              },
              "ontology_id": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": {
                  "description": "Ontology ID (with matching term in keyword_value)"
                }
              },
              "source": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": { "description": "Source of nested value" }
              },
              "source_index": {
                "type": "keyword",
                "ignore_above": 128,
                "meta": { "description": "Index containing source value" }
              },
              "source_doc_id": {
                "type": "keyword",
                "ignore_above": 64,
                "meta": { "description": "Document ID containing source value" }
              }
            }
          }
        }
      }
    }
  }
}
